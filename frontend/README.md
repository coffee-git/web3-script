2023/2024 年 React 组件库 与 相关库 推荐：https://zhuanlan.zhihu.com/p/546697951

# 交易
流程：输入交易id，首先判断交易格式是否正确、交易是否存在、获取交易失败显示刷新按钮。不同的网络都需要判断。获取中要显示获取中
当请求失败时会返回：
1. 404 - "交易不存在，请检查网络或交易ID是否正确"
500 - "获取交易失败，请重试"
网络错误 - "获取交易失败，请重试"
这些错误会在 Transaction.js 中显示，并且根据错误类型决定是否显示重试按钮。你要我修改错误提示的内容吗？


# 输入
先防抖
再节流
再重试



架构 
状态统一管理，@UtxoContext.js 管理共享状态。 各组件内部管理自己局部状态，组件通过 Context 获取需要的状态，状态变化自动触发相关更新，依赖关系清晰。

网络和gas相关组件是 @useGas.js  @NetworkAndGas.js  @UTXONetworkAndGas.js  @page.js 。
需求是page初始状态就获取gas显示出来。倒计时结束后重新请求，刷新gas。切换网络时重新请求对应网络gas，倒计时结束后重新请求，刷新gas。刷新的时候都需要显示旋转的loading按钮，刷新结束后消失。


交易相关组件是 @useTransaction.js  @Transaction.js  @page.js 。需求是输入交易id的过程防抖，防抖结束立即判断id格式，错误需要页面显示出来。格式无误后发起请求，网络请求过程中需要loading按钮处于旋转状态。出错需要页面显示出来。格式错误、404资源不存在属于一次性错误，一次性错误不需要显示loading按钮。500等网络错误属于可重试错误，可重试错误添加一个倒计时，结束时自动发起重试，请求成功后loading按钮消失。


依赖关系：
使用 Context 管理共享状态
组件内部管理局部状态
网络变化时自动重新获取
错误分类：
一次性错误（格式错误、404）
可重试错误（网络错误、服务器错误）
状态管理：
loading：控制加载状态
retryable：控制是否显示可重试按钮
error：错误信息
3. 交互逻辑：
输入时防抖
格式验证立即执行
网络请求时显示 loading
可重试错误时显示刷新按钮


架构 
状态统一管理，@UtxoContext.js 管理共享状态。 各组件内部管理自己局部状态，组件通过 Context 获取需要的状态，状态变化自动触发相关更新，依赖关系清晰。
地址相关组件是 @route.js  @useAddress.js  @Address.js  @page.js  @errors.js 
需求是监听相应的网络和脚本类型，输入加密助记词或私钥时防抖，输入完后发送请求获取地址，错误的输入属于一次性错误，直接在页面提示。500等网络问题请求失败属于可重试错误，页面提示用户，并在几秒后自动重试。请求时多需要loading按钮处于旋转状态。
当地址请求成功后开始发起余额请求，请求失败提示用户，并且添加倒计时，倒计时结束后自动发起重试，重试次数完后，可以手动点击loading按钮重试

错误处理更完善：
区分一次性错误和可重试错误
添加重试倒计时
余额请求有重试次数限制
状态管理更清晰：
地址状态
余额状态
错误状态
重试状态
请求流程更合理：
输入防抖
地址获取
余额获取
自动重试
手动重试
依赖关系更明确：
网络变化
脚本类型变化
输入变化

切记使用最佳实践完成代码
架构 
状态统一管理，@UtxoContext.js 管理共享状态。 各组件内部管理自己局部状态，组件通过 Context 获取需要的状态，状态变化自动触发相关更新，依赖关系清晰。

utxo列表组件是 @UTXOList.js  @useUTXO.js  @page.js  
需求是当地址组件解析出地址来后开始获取utxo列表，注意获取utxo列表不依赖地址余额是否获取，确切地说他俩是同步的，都只依赖地址和网络。获取过程中需要loading按钮处于旋转状态，请求失败提示用户，并且添加倒计时，倒计时结束后自动发起重试，重试次数完后，可以手动点击loading按钮重试。获取出来的utxo列表通过过滤聪来判断可选择状态。大于过滤聪可选择，小于过滤聪不可选择。